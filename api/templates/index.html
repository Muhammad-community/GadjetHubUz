{% extends "base.html" %}
{% block title %}GadgetHub – Bosh Sahifa{% endblock %}

{% block content %}

<!-- ── Hero ── -->
<section style="padding: 100px 0 80px; position: relative; overflow: hidden;">
  <!-- Background glow blob -->
  <div style="position:absolute;top:-120px;left:50%;transform:translateX(-50%);width:700px;height:500px;
              background:radial-gradient(ellipse, rgba(0,212,255,0.1) 0%, transparent 70%);pointer-events:none;"></div>

  <div class="container text-center fade-up">
    <span class="section-label">O'zbekistoning #1 Gadjet Do'koni</span>
    <h1 class="mt-3 mb-4" style="font-size:clamp(2.4rem,5vw,4rem);line-height:1.1;letter-spacing:-1px;">
      Kelajak Texnologiyalari<br/>
      <span style="background:linear-gradient(135deg,#00d4ff,#6c63ff);-webkit-background-clip:text;-webkit-text-fill-color:transparent;">
        Sizning Qo'lingizda
      </span>
    </h1>
    <p style="color:var(--muted);max-width:560px;margin:0 auto 36px;font-size:1.1rem;line-height:1.7;">
      Eng yangi smartfonlar, quloqchinlar, soatlar va boshqa gadjetlarni qulay narxda kashf eting yoki o'zingizning e'loningizni joylashtiring.
    </p>
    <div class="d-flex gap-3 justify-content-center flex-wrap">
      <a href="#gadgets" class="btn-accent btn btn-lg px-5">Gadjetlarni ko'rish</a>
      {% if not user %}
      <a href="{{ url_for('register') }}" class="btn-outline-accent btn btn-lg px-5">Bepul ro'yxatdan o'ting</a>
      {% else %}
      <a href="{{ url_for('marketplace') }}" class="btn-outline-accent btn btn-lg px-5">Bozorga o'tish</a>
      {% endif %}
    </div>
  </div>

  <!-- Stats row -->
  <div class="container mt-5">
    <div class="row g-3 justify-content-center delay-2 fade-up">
      {% for stat in [("12,400+","Foydalanuvchi"),("5,200+","Mahsulot"),("98%","Mijoz mamnuniyati"),("24/7","Qo'llab-quvvatlash")] %}
      <div class="col-6 col-md-3 text-center">
        <div style="background:var(--surface);border:1px solid var(--border);border-radius:14px;padding:20px 10px;">
          <div style="font-family:'Syne',sans-serif;font-size:1.7rem;font-weight:800;color:var(--accent)">{{ stat[0] }}</div>
          <div style="color:var(--muted);font-size:0.85rem;margin-top:4px">{{ stat[1] }}</div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</section>

<!-- ── Gadget Cards ── -->
<section id="gadgets" style="padding: 60px 0;">
  <div class="container">
    <div class="d-flex align-items-center justify-content-between mb-5 flex-wrap gap-3">
      <div>
        <span class="section-label">Mahsulotlar</span>
        <h2 class="mt-1 mb-0">Mashhur Gadjetlar</h2>
      </div>
      <a href="{{ url_for('marketplace') }}" class="btn-outline-accent btn">
        Barchasini ko'rish <i class="bi bi-arrow-right ms-1"></i>
      </a>
    </div>

    <div class="row g-4">
      {% for g in gadgets %}
      <div class="col-sm-6 col-lg-4 fade-up" style="animation-delay: {{ loop.index0 * 0.07 }}s;">
        <div class="card-dark h-100 d-flex flex-col">
          <!-- Product image -->
          <div style="height:200px;overflow:hidden;position:relative;">
            <img src="{{ g.img }}" alt="{{ g.name }}"
                 style="width:100%;height:100%;object-fit:cover;transition:transform 0.4s;"
                 onmouseover="this.style.transform='scale(1.06)'" onmouseout="this.style.transform='scale(1)'"/>
            <span class="badge-accent" style="position:absolute;top:12px;left:12px;">{{ g.badge }}</span>
          </div>
          <!-- Info -->
          <div style="padding:18px 20px;flex:1;display:flex;flex-direction:column;gap:8px;">
            <div style="color:var(--muted);font-size:0.8rem;">
              {% for i in range(5) %}
                <i class="bi bi-star{% if i < g.rating|int %}-fill{% elif (g.rating - i) > 0.4 %}-half{% endif %}"
                   style="color:{% if i < g.rating|int %}#fbbf24{% elif (g.rating - i) > 0.4 %}#fbbf24{% else %}var(--border){% endif %};font-size:0.75rem;"></i>
              {% endfor %}
              <span class="ms-1">{{ g.rating }}</span>
            </div>
            <h5 style="margin:0;font-size:1rem;font-weight:700;">{{ g.name }}</h5>
            <div style="margin-top:auto;display:flex;align-items:center;justify-content:space-between;padding-top:10px;border-top:1px solid var(--border);">
              <span style="font-family:'Syne',sans-serif;font-size:1.1rem;font-weight:800;color:var(--accent);">
                {{ "{:,.0f}".format(g.price) }} so'm
              </span>
              <button class="btn-accent btn btn-sm px-3">
                <i class="bi bi-cart-plus me-1"></i>Savat
              </button>
            </div>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</section>

<!-- ── CTA Banner ── -->
<section style="padding:60px 0;">
  <div class="container">
    <div style="background:linear-gradient(135deg,rgba(0,212,255,0.12),rgba(108,99,255,0.12));
                border:1px solid var(--border);border-radius:24px;padding:60px 40px;text-align:center;">
      <span class="section-label">Maxsus taklif</span>
      <h2 class="mt-2 mb-3">O'z Gadjetingizni Soling yoki Xarid Qiling</h2>
      <p style="color:var(--muted);max-width:480px;margin:0 auto 28px;">
        Bepul e'lon joylashtiring va minglab xaridorlar bilan bog'laning. Ro'yxatdan o'ting va boshlang!
      </p>
      <a href="{{ url_for('marketplace') }}" class="btn-accent btn btn-lg px-5">
        Bozorga o'tish <i class="bi bi-arrow-right ms-2"></i>
      </a>
    </div>
  </div>
</section>

{% endblock %}
